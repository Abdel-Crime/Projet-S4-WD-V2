{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/voiture.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/app/service/user.service\";\nexport class VoitureComponent {\n  constructor(VoitureService, router, userService) {\n    this.VoitureService = VoitureService;\n    this.router = router;\n    this.userService = userService;\n    this.nom = \"\";\n    this.baseMarque = [];\n    this.recup_voiture = [];\n    this.recup_marque = [];\n    this.filter = [];\n    this.Liste_Marque = [];\n    this.titreU = '';\n    this.titreA = '';\n    this.titreC = '';\n    this.titreT = '';\n  }\n  ngOnInit() {\n    let parcours_taches = 0;\n    this.VoitureService.getVoiture().subscribe({\n      next: data => {\n        data.forEach(element => {\n          if (this.recup_marque.includes(element.marque) === false) {\n            this.recup_marque.push(element.marque);\n            console.log(\"Rentre dans le push\");\n            console.log(element.marque);\n          } else {\n            console.log(\"Statut deja dans le tableau\");\n          }\n          console.log(\"Ici les statut recup :\" + this.recup_marque + \"Fin tableau\");\n        });\n        this.recup_marque.forEach(element2 => {\n          let titre = element2;\n          data.forEach(element3 => {\n            if (element3.marque === element2) {\n              this.recup_voiture.push(element3);\n            }\n          });\n          this.ajouterNewListe(element2, 0, this.recup_voiture);\n          this.recup_voiture = [];\n        });\n      }\n    });\n  }\n  ajouterNewListe(Marque, testAjout, RecupVoiture) {\n    if (testAjout == 0) {\n      let NouvelleListe = {\n        nom: Marque,\n        voiture: RecupVoiture\n      };\n      console.log(\"Apparition liste sauvegardé?\");\n      this.Liste_Marque.push(NouvelleListe);\n      this.filter.push(NouvelleListe.nom);\n    } else {\n      let NouvelleListe = {\n        nom: Marque,\n        voiture: RecupVoiture\n      };\n      NouvelleListe.nom = this.titreU;\n      this.Liste_Marque.push(NouvelleListe);\n      console.log(this.Liste_Marque);\n      this.filter.push(NouvelleListe.nom);\n    }\n  }\n  static #_ = this.ɵfac = function VoitureComponent_Factory(t) {\n    return new (t || VoitureComponent)(i0.ɵɵdirectiveInject(i1.VoitureService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.UserService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: VoitureComponent,\n    selectors: [[\"app-voiture\"]],\n    decls: 3,\n    vars: 0,\n    template: function VoitureComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\")(1, \"h1\");\n        i0.ɵɵtext(2, \"test\");\n        i0.ɵɵelementEnd()();\n      }\n    },\n    styles: [\".container[_ngcontent-%COMP%] {\\n    width: 25%;\\n}\\n\\n.listeTaches[_ngcontent-%COMP%] {\\n    min-height: 60px;\\n    border-radius: 4px;\\n    overflow: hidden;\\n    display: block;\\n    justify-content: space-between;\\n}\\n\\n.tachesBox[_ngcontent-%COMP%] {\\n    padding: 20px 10px;\\n    border-bottom: solid 1px #ccc;\\n    color: rgba(0, 0, 0, 0.87);\\n    display: flex;\\n    flex-direction: row;\\n    align-items: center;\\n    justify-content: space-between;\\n    box-sizing: border-box;\\n    cursor: move;\\n    background: white;\\n    font-size: 14px;\\n}\\n\\n.cdk-drag-preview[_ngcontent-%COMP%] {\\n    box-sizing: border-box;\\n    border-radius: 4px;\\n    box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2),\\n        0 8px 10px 1px rgba(0, 0, 0, 0.14),\\n        0 3px 14px 2px rgba(0, 0, 0, 0.12);\\n}\\n\\n.cdk-drag-placeholder[_ngcontent-%COMP%] {\\n    background: #ccc;\\n    min-height: 60px;\\n    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\\n}\\n.cdk-drag-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .cdk-drag-placeholder[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .cdk-drag-placeholder[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\\n    display: none;\\n}\\n\\n.cdk-drag-animating[_ngcontent-%COMP%] {\\n    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\\n}\\n\\n.tachesBox[_ngcontent-%COMP%]:last-child {\\n    border: none;\\n}\\n\\n.listeTaches.cdk-drop-list-dragging[_ngcontent-%COMP%]   .tachesBox[_ngcontent-%COMP%]:not(.cdk-drag-placeholder) {\\n    transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\\n}\\n/*# sourceURL=webpack://./src/app/component/voiture/voiture.component.css */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50L3ZvaXR1cmUvdm9pdHVyZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksVUFBVTtBQUNkOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLDhCQUE4QjtBQUNsQzs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQiw2QkFBNkI7SUFDN0IsMEJBQTBCO0lBQzFCLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsbUJBQW1CO0lBQ25CLDhCQUE4QjtJQUM5QixzQkFBc0I7SUFDdEIsWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixlQUFlO0FBQ25COztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLGtCQUFrQjtJQUNsQjs7MENBRXNDO0FBQzFDOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGdCQUFnQjtJQUNoQixzREFBc0Q7QUFDMUQ7QUFDQTtJQUNJLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxzREFBc0Q7QUFDMUQ7O0FBRUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksc0RBQXNEO0FBQzFEIiwic291cmNlc0NvbnRlbnQiOlsiLmNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDI1JTtcbn1cblxuLmxpc3RlVGFjaGVzIHtcbiAgICBtaW4taGVpZ2h0OiA2MHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cblxuLnRhY2hlc0JveCB7XG4gICAgcGFkZGluZzogMjBweCAxMHB4O1xuICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCAjY2NjO1xuICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuODcpO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGN1cnNvcjogbW92ZTtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICBmb250LXNpemU6IDE0cHg7XG59XG5cbi5jZGstZHJhZy1wcmV2aWV3IHtcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICBib3gtc2hhZG93OiAwIDVweCA1cHggLTNweCByZ2JhKDAsIDAsIDAsIDAuMiksXG4gICAgICAgIDAgOHB4IDEwcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4xNCksXG4gICAgICAgIDAgM3B4IDE0cHggMnB4IHJnYmEoMCwgMCwgMCwgMC4xMik7XG59XG5cbi5jZGstZHJhZy1wbGFjZWhvbGRlciB7XG4gICAgYmFja2dyb3VuZDogI2NjYztcbiAgICBtaW4taGVpZ2h0OiA2MHB4O1xuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAyNTBtcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTtcbn1cbi5jZGstZHJhZy1wbGFjZWhvbGRlciBkaXYsLmNkay1kcmFnLXBsYWNlaG9sZGVyIGJ1dHRvbiwgLmNkay1kcmFnLXBsYWNlaG9sZGVyIGlucHV0e1xuICAgIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5jZGstZHJhZy1hbmltYXRpbmcge1xuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAyNTBtcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTtcbn1cblxuLnRhY2hlc0JveDpsYXN0LWNoaWxkIHtcbiAgICBib3JkZXI6IG5vbmU7XG59XG5cbi5saXN0ZVRhY2hlcy5jZGstZHJvcC1saXN0LWRyYWdnaW5nIC50YWNoZXNCb3g6bm90KC5jZGstZHJhZy1wbGFjZWhvbGRlcikge1xuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAyNTBtcyBjdWJpYy1iZXppZXIoMCwgMCwgMC4yLCAxKTtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n  });\n}","map":{"version":3,"mappings":";;;;AAaA,OAAM,MAAOA,gBAAgB;EAY3BC,YAAoBC,cAA8B,EAAUC,MAAc,EAAUC,WAAwB;IAAxF,mBAAc,GAAdF,cAAc;IAA0B,WAAM,GAANC,MAAM;IAAkB,gBAAW,GAAXC,WAAW;IAV/F,QAAG,GAAW,EAAE;IAChB,eAAU,GAAkB,EAAE;IAC9B,kBAAa,GAAgB,EAAE;IAC/B,iBAAY,GAAgB,EAAE;IAC9B,WAAM,GAAgB,EAAE;IACxB,iBAAY,GAAiB,EAAE;IAC/B,WAAM,GAAS,EAAE;IACjB,WAAM,GAAS,EAAE;IACjB,WAAM,GAAS,EAAE;IACjB,WAAM,GAAS,EAAE;EAC+F;EAEhHC,QAAQ;IAEN,IAAIC,eAAe,GAAC,CAAC;IACrB,IAAI,CAACJ,cAAc,CAACK,UAAU,EAAE,CAACC,SAAS,CAAC;MACzCC,IAAI,EAAGC,IAAmB,IAAI;QAC3BA,IAAI,CAACC,OAAO,CAACC,OAAO,IAAG;UACtB,IAAG,IAAI,CAACC,YAAY,CAACC,QAAQ,CAACF,OAAO,CAACG,MAAM,CAAC,KAAG,KAAK,EAAC;YACnD,IAAI,CAACF,YAAY,CAACG,IAAI,CAACJ,OAAO,CAACG,MAAM,CAAC;YACtCE,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;YAClCD,OAAO,CAACC,GAAG,CAACN,OAAO,CAACG,MAAM,CAAC;WAC7B,MACG;YACFE,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;;UAG5CD,OAAO,CAACC,GAAG,CAAC,wBAAwB,GAAG,IAAI,CAACL,YAAY,GAAE,aAAa,CAAC;QACzE,CAAC,CAAC;QAEF,IAAI,CAACA,YAAY,CAACF,OAAO,CAACQ,QAAQ,IAAG;UAClC,IAAIC,KAAK,GAACD,QAAQ;UAGnBT,IAAI,CAACC,OAAO,CAACU,QAAQ,IAAG;YACrB,IAAGA,QAAQ,CAACN,MAAM,KAAGI,QAAQ,EAAC;cAC5B,IAAI,CAACG,aAAa,CAACN,IAAI,CAACK,QAAQ,CAAC;;UAGrC,CAAC,CAAC;UACF,IAAI,CAACE,eAAe,CAACJ,QAAQ,EAAC,CAAC,EAAC,IAAI,CAACG,aAAa,CAAC;UACnD,IAAI,CAACA,aAAa,GAAC,EAAE;QACvB,CAAC,CAAC;MAEH;KACJ,CAAC;EAEJ;EAEAC,eAAe,CAACC,MAAa,EAAEC,SAAgB,EAACC,YAA2B;IACzE,IAAGD,SAAS,IAAE,CAAC,EAAC;MACd,IAAIE,aAAa,GAAU;QACzBC,GAAG,EAAEJ,MAAM;QACXK,OAAO,EAAEH;OACV;MACDT,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;MAC3C,IAAI,CAACY,YAAY,CAACd,IAAI,CAACW,aAAa,CAAC;MACrC,IAAI,CAACI,MAAM,CAACf,IAAI,CAACW,aAAa,CAACC,GAAG,CAAC;KACpC,MACG;MACF,IAAID,aAAa,GAAU;QACzBC,GAAG,EAAEJ,MAAM;QACXK,OAAO,EAAEH;OACV;MACCC,aAAa,CAACC,GAAG,GAAC,IAAI,CAACI,MAAM;MAC7B,IAAI,CAACF,YAAY,CAACd,IAAI,CAACW,aAAa,CAAC;MACrCV,OAAO,CAACC,GAAG,CAAC,IAAI,CAACY,YAAY,CAAC;MAC9B,IAAI,CAACC,MAAM,CAACf,IAAI,CAACW,aAAa,CAACC,GAAG,CAAC;;EAEzC;EAAC;qBAvEU5B,gBAAgB;EAAA;EAAA;UAAhBA,gBAAgB;IAAAiC;IAAAC;IAAAC;IAAAC;MAAA;QCwB7BC,2BAAK;QAAIA,oBAAI;QAAAA,iBAAK","names":["VoitureComponent","constructor","VoitureService","router","userService","ngOnInit","parcours_taches","getVoiture","subscribe","next","data","forEach","element","recup_marque","includes","marque","push","console","log","element2","titre","element3","recup_voiture","ajouterNewListe","Marque","testAjout","RecupVoiture","NouvelleListe","nom","voiture","Liste_Marque","filter","titreU","selectors","decls","vars","template","i0"],"sourceRoot":"","sources":["C:\\Users\\Amin\\Documents\\Info\\WD\\CIN2\\ProjetS4-V2\\Angular\\src\\app\\component\\voiture\\voiture.component.ts","C:\\Users\\Amin\\Documents\\Info\\WD\\CIN2\\ProjetS4-V2\\Angular\\src\\app\\component\\voiture\\voiture.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\nimport { Router } from '@angular/router';\nimport { Voiture, Marque } from 'src/app/model/voiture';\nimport { VoitureService } from 'src/app/service/voiture.service';\nimport { UserService } from 'src/app/service/user.service';\n\n@Component({\n  selector: 'app-voiture',\n  templateUrl: './voiture.component.html',\n  styleUrls: ['./voiture.component.css']\n})\n\nexport class VoitureComponent implements OnInit {\n\n  nom: string = \"\";\n  baseMarque: Array<String> = [];\n  recup_voiture:Array<Voiture>=[];\n  recup_marque: Array<string>=[];\n  filter:Array<string>= [];\n  Liste_Marque:Array<Marque> = [];\n  titreU:string ='';\n  titreA:string ='';\n  titreC:string ='';\n  titreT:string ='';\n  constructor(private VoitureService: VoitureService, private router: Router, private userService: UserService) { }\n\n  ngOnInit(): void {\n    \n    let parcours_taches=0\n    this.VoitureService.getVoiture().subscribe({\n      next: (data:Array<Voiture>) => {\n         data.forEach(element => {\n          if(this.recup_marque.includes(element.marque)===false){\n             this.recup_marque.push(element.marque);\n             console.log(\"Rentre dans le push\")\n             console.log(element.marque)\n          }\n          else{\n            console.log(\"Statut deja dans le tableau\")\n          }\n          \n          console.log(\"Ici les statut recup :\" + this.recup_marque +\"Fin tableau\")\n         });\n\n         this.recup_marque.forEach(element2 => {\n            let titre=element2\n            \n            \n           data.forEach(element3 => {\n              if(element3.marque===element2){\n                this.recup_voiture.push(element3)\n              }\n              \n            });\n            this.ajouterNewListe(element2,0,this.recup_voiture)\n            this.recup_voiture=[]\n          });\n         \n         }\n    });\n   \n  } \n\n  ajouterNewListe(Marque:string, testAjout:number,RecupVoiture:Array<Voiture>) {\n    if(testAjout==0){\n      let NouvelleListe: Marque ={\n        nom: Marque,\n        voiture: RecupVoiture,\n      }\n      console.log(\"Apparition liste sauvegardé?\")\n      this.Liste_Marque.push(NouvelleListe);\n      this.filter.push(NouvelleListe.nom)\n    }\n    else{\n      let NouvelleListe: Marque ={\n        nom: Marque,\n        voiture: RecupVoiture,\n      }\n        NouvelleListe.nom=this.titreU\n        this.Liste_Marque.push(NouvelleListe);\n        console.log(this.Liste_Marque)\n        this.filter.push(NouvelleListe.nom)\n      }\n  }\n}","<!-- <div class=\"d-flex flex-column container-fluid p-10\">\n    <div class=\"bd-highlight d-flex justify-content-center align-items-center\">\n        <h1>Voitures</h1>\n        <button class=\"btn btn-outline-dark m-1 btn-lg\" style=\"position: absolute; right: 0;\" (click)='loggout()'>Logout</button>\n    </div>\n    <div class=\"bd-highlight d-flex justify-content-center m-5\">\n        <input id=\"inputAjoutListeTaches\" class=\"saisieInputListeTaches w-25\" type=\"text\" name=\"tacheListeTaches\"\n            placeholder=\"marque de voiture\" [(ngModel)]=\"marque\">\n        <button id=\"buttonAjoutListeTaches\" class=\"btn btn-primary\" value=\"Ajouter\"\n            (click)=\"ajouterVoiture()\">Ajouter</button>\n    </div>\n    <div cdkDropListGroup class=\"d-flex flex-row justify-content-between align-items-start col-12\">\n\n        <div *ngFor=\"let voiture of voitures\" class=\"container\">\n            <div class=\"d-flex flex-row justify-content-between\">\n                <h2>{{voiture.marque}}</h2>\n                <button class=\"btn btn-outline-danger\" (click)='supprimerVoiture(voiture)'>Supprimer</button>\n            </div>\n\n            <div class=\"d-flex flex-row justify-content-center m-1\">\n                <input id=\"inputAjoutTache\" class=\"saisieInput w-100\" type=\"text\" name=\"tache\" placeholder=\"modèle de voiture\"\n                    [(ngModel)]=\"voiture.modele\">\n                <button id=\"buttonAjoutTache\" (click)=\"modifierVoiture(voiture)\" class=\"btn btn-primary\"\n                    value=\"Modifier\">Modifier</button>\n            </div>\n            <div class=\"listeTaches\" cdkDropList [cdkDropListData]=\"voiture.taches\"\n                (cdkDropListDropped)=\"drop($event)\">\n                <div cdkDrag [cdkDragData]=\"tache\" *ngFor=\"let tache of voiture.taches \" class=\"tachesBox\">\n                    <input type=\"checkbox\" (click)=\"modifierTache(tache)\" [(ngModel)]=\"tache.termine\">\n                    <div [ngClass]=\"tache.termine? 'text-decoration-line-through' : '' \">{{tache.titre}}</div>\n                    <button class=\"btn btn-outline-danger\"\n                        (click)='supprimerTache(voiture, tache)'>Supprimer</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div> -->\n<div><h1>test</h1></div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}