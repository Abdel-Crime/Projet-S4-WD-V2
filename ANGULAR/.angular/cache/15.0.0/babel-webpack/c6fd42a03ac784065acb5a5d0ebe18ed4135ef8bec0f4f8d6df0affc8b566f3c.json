{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet VoitureComponent = class VoitureComponent {\n  constructor(VoitureService, router, userService) {\n    this.VoitureService = VoitureService;\n    this.router = router;\n    this.userService = userService;\n    this.nom = \"\";\n    this.baseMarque = [];\n    this.recup_voiture = [];\n    this.recup_marque = [];\n    this.filter = [];\n    this.Liste_Marque = [];\n    this.titreU = '';\n    this.titreA = '';\n    this.titreC = '';\n    this.titreT = '';\n    this.NouvelleVoiture = {\n      marque: '',\n      modele: '',\n      millesime: '',\n      motorisation: '',\n      desc: ''\n    };\n  }\n  ngOnInit() {\n    let parcours_taches = 0;\n    this.VoitureService.getVoiture().subscribe({\n      next: data => {\n        data.forEach(element => {\n          if (this.recup_marque.includes(element.marque) === false) {\n            this.recup_marque.push(element.marque);\n            console.log(\"Rentre dans le push\");\n            console.log(element.marque);\n          } else {\n            console.log(\"Statut deja dans le tableau\");\n          }\n          console.log(\"Ici les statut recup :\" + this.recup_marque + \"Fin tableau\");\n        });\n        this.recup_marque.forEach(element2 => {\n          let titre = element2;\n          data.forEach(element3 => {\n            if (element3.marque === element2) {\n              this.recup_voiture.push(element3);\n            }\n          });\n          this.ajouterNewListe(element2, 0, this.recup_voiture);\n          this.recup_voiture = [];\n        });\n      }\n    });\n  }\n  ajouterNewListe(Marque, testAjout, RecupVoiture) {\n    if (testAjout == 0) {\n      let NouvelleListe = {\n        nom: Marque,\n        voiture: RecupVoiture\n      };\n      console.log(\"Apparition liste sauvegardé?\");\n      this.Liste_Marque.push(NouvelleListe);\n      this.filter.push(NouvelleListe.nom);\n    } else {\n      let NouvelleListe = {\n        nom: Marque,\n        voiture: RecupVoiture\n      };\n      NouvelleListe.nom = this.titreU;\n      this.Liste_Marque.push(NouvelleListe);\n      console.log(this.Liste_Marque);\n      this.filter.push(NouvelleListe.nom);\n    }\n  }\n  ajouter(ListeHere) {\n    console.log(\"Nouveau titre?\");\n    let NouvelleVoiture = {\n      marque: ListeHere.nom,\n      modele: '',\n      millesime: '',\n      motorisation: '',\n      desc: ''\n    };\n    this.VoitureService.ajoutVoiture(this.NouvelleVoiture).subscribe({\n      next: data => {\n        NouvelleVoiture.marque = this.titreU;\n        NouvelleVoiture.marque = ListeHere.nom;\n        console.log(\"Modele de la voiture:\" + NouvelleVoiture.modele);\n        console.log(data);\n        ListeHere.voiture.push(data);\n      }\n    });\n  }\n};\nVoitureComponent = __decorate([Component({\n  selector: 'app-voiture',\n  templateUrl: './voiture.component.html',\n  styleUrls: ['./voiture.component.css']\n})], VoitureComponent);\nexport { VoitureComponent };\n// this.VoitureService.ajoutVoiture(this.NouvelleVoiture).subscribe({\n//   next: (data:Voiture) => {\n//      NouvelleVoiture.marque=this.titreU\n//      NouvelleVoiture.marque=ListeHere.nom\n//      console.log(\"Modele de la voiture:\" + NouvelleVoiture.modele)\n//      console.log(data)\n//      ListeHere.voiture.push(data);\n//   }\n// });","map":{"version":3,"mappings":"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","names":["Component","VoitureComponent","constructor","VoitureService","router","userService","marque","modele","millesime","motorisation","desc","ngOnInit","parcours_taches","getVoiture","subscribe","next","data","forEach","element","recup_marque","includes","push","console","log","element2","titre","element3","recup_voiture","ajouterNewListe","Marque","testAjout","RecupVoiture","NouvelleListe","nom","voiture","Liste_Marque","filter","titreU","ajouter","ListeHere","NouvelleVoiture","ajoutVoiture","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Amin\\Documents\\Info\\WD\\CIN2\\ProjetS4-V3\\angular\\src\\app\\component\\voiture\\voiture.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\nimport { Router } from '@angular/router';\nimport { Voiture, Marque } from 'src/app/model/voiture';\nimport { VoitureService } from 'src/app/service/voiture.service';\nimport { UserService } from 'src/app/service/user.service';\n\n@Component({\n  selector: 'app-voiture',\n  templateUrl: './voiture.component.html',\n  styleUrls: ['./voiture.component.css']\n})\n\nexport class VoitureComponent implements OnInit {\n\n  nom: string = \"\";\n  baseMarque: Array<String> = [];\n  recup_voiture: Array<Voiture> = [];\n  recup_marque: Array<string> = [];\n  filter: Array<string> = [];\n  Liste_Marque: Array<Marque> = [];\n  titreU: string = '';\n  titreA: string = '';\n  titreC: string = '';\n  titreT: string = '';\n  NouvelleVoiture: Voiture = {\n    marque: '',\n    modele: '',\n    millesime: '',\n    motorisation: '',\n    desc: ''\n  };\n\n  constructor(private VoitureService: VoitureService, private router: Router, private userService: UserService) { }\n\n  ngOnInit(): void {\n\n    let parcours_taches = 0\n    this.VoitureService.getVoiture().subscribe({\n      next: (data: Array<Voiture>) => {\n        data.forEach(element => {\n          if (this.recup_marque.includes(element.marque) === false) {\n            this.recup_marque.push(element.marque);\n            console.log(\"Rentre dans le push\")\n            console.log(element.marque)\n          }\n          else {\n            console.log(\"Statut deja dans le tableau\")\n          }\n\n          console.log(\"Ici les statut recup :\" + this.recup_marque + \"Fin tableau\")\n        });\n\n        this.recup_marque.forEach(element2 => {\n          let titre = element2\n\n\n          data.forEach(element3 => {\n            if (element3.marque === element2) {\n              this.recup_voiture.push(element3)\n            }\n\n          });\n          this.ajouterNewListe(element2, 0, this.recup_voiture)\n          this.recup_voiture = []\n        });\n\n      }\n    });\n\n  }\n\n  ajouterNewListe(Marque: string, testAjout: number, RecupVoiture: Array<Voiture>) {\n    if (testAjout == 0) {\n      let NouvelleListe: Marque = {\n        nom: Marque,\n        voiture: RecupVoiture,\n      }\n      console.log(\"Apparition liste sauvegardé?\")\n      this.Liste_Marque.push(NouvelleListe);\n      this.filter.push(NouvelleListe.nom)\n    }\n    else {\n      let NouvelleListe: Marque = {\n        nom: Marque,\n        voiture: RecupVoiture,\n      }\n      NouvelleListe.nom = this.titreU\n      this.Liste_Marque.push(NouvelleListe);\n      console.log(this.Liste_Marque)\n      this.filter.push(NouvelleListe.nom)\n    }\n  }\n\n  ajouter(ListeHere: Marque) {\n    console.log(\"Nouveau titre?\")\n    let NouvelleVoiture: Voiture = {\n      marque: ListeHere.nom,\n\n      modele: '',\n      millesime: '',\n      motorisation: '',\n      desc: '',\n\n    };\n    this.VoitureService.ajoutVoiture(this.NouvelleVoiture).subscribe({\n      next: (data: Voiture) => {\n        NouvelleVoiture.marque = this.titreU\n        NouvelleVoiture.marque = ListeHere.nom\n        console.log(\"Modele de la voiture:\" + NouvelleVoiture.modele)\n        console.log(data)\n\n        ListeHere.voiture.push(data);\n\n\n      }\n    });\n\n  }\n\n}\n\n  // this.VoitureService.ajoutVoiture(this.NouvelleVoiture).subscribe({\n  //   next: (data:Voiture) => {\n  //      NouvelleVoiture.marque=this.titreU\n  //      NouvelleVoiture.marque=ListeHere.nom\n  //      console.log(\"Modele de la voiture:\" + NouvelleVoiture.modele)\n  //      console.log(data)\n\n  //      ListeHere.voiture.push(data);\n\n\n  //   }\n  // });\n  \n\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}